# üéØ –§–ò–ù–ê–õ–¨–ù–ê–Ø –ù–ê–°–¢–†–û–ô–ö–ê Instagram Clone Backend

## ‚úÖ –ß—Ç–æ —É–∂–µ –≥–æ—Ç–æ–≤–æ

### 1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ —Å–æ–∑–¥–∞–Ω–∞
```
backend/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ db.js              # ‚úÖ MongoDB –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ cloudinary.js      # ‚úÖ Cloudinary –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ controllers/           # ‚úÖ 7 –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ middlewares/           # ‚úÖ auth + upload
‚îÇ   ‚îú‚îÄ‚îÄ models/               # ‚úÖ 6 –º–æ–¥–µ–ª–µ–π –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ routes/               # ‚úÖ 7 —Ä–æ—É—Ç–µ—Ä–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ migrations/           # ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è –ë–î
‚îÇ   ‚îî‚îÄ‚îÄ scripts/              # ‚úÖ –¢–µ—Å—Ç—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
‚îú‚îÄ‚îÄ server.js                 # ‚úÖ –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä
‚îú‚îÄ‚îÄ package.json              # ‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ + —Å–∫—Ä–∏–ø—Ç—ã
‚îú‚îÄ‚îÄ .env                      # ‚úÖ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îî‚îÄ‚îÄ README.md                 # ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

### 2. Cloudinary –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úÖ
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ
- API –∫–ª—é—á–∏ –≤–∞–ª–∏–¥–Ω—ã
- –ì–æ—Ç–æ–≤ –∫ –∑–∞–≥—Ä—É–∑–∫–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

### 3. –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã ‚úÖ
- Express, MongoDB, Cloudinary
- JWT, bcrypt, multer, cors
- nodemon –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

## ‚ùó –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –°–ï–ô–ß–ê–°

### üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ MongoDB Atlas

**–ö–†–ò–¢–ò–ß–ù–û:** –î–æ–±–∞–≤—å—Ç–µ –≤–∞—à IP –≤ whitelist MongoDB Atlas

1. –û—Ç–∫—Ä–æ–π—Ç–µ [MongoDB Atlas](https://cloud.mongodb.com/)
2. –í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç
3. –í—ã–±–µ—Ä–∏—Ç–µ –∫–ª–∞—Å—Ç–µ—Ä **DB**
4. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Network Access**
5. –ù–∞–∂–º–∏—Ç–µ **Add IP Address**
6. –í—ã–±–µ—Ä–∏—Ç–µ **Add Current IP Address**
7. –ù–∞–∂–º–∏—Ç–µ **Confirm**

### üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ IP –∑–∞–ø—É—Å—Ç–∏—Ç–µ:

```bash
# –í –ø–∞–ø–∫–µ backend
npm run test:mongodb
```

–ï—Å–ª–∏ —É—Å–ø–µ—à–Ω–æ, —Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ:
```bash
npm run migrate
```

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

```bash
# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
npm run dev

# –°–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –Ω–∞ http://localhost:3000
```

## üìã –í–∞—à–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### .env —Ñ–∞–π–ª (—É–∂–µ —Å–æ–∑–¥–∞–Ω)
```env
MONGO_URI=mongodb+srv://Serdjios:1488228@db.x4xc6u0.mongodb.net/instagram_clone?retryWrites=true&w=majority&appName=DB
JWT_SECRET=serdjioskayti
PORT=3000
CLOUDINARY_CLOUD_NAME=dihf9mssr
CLOUDINARY_API_KEY=278547552248214
CLOUDINARY_API_SECRET=OMsV_-8TYFULqYsnav-rcVryeys
FRONTEND_URL=http://localhost:5000
```

### –ü–æ—Ä—Ç—ã
- **Backend API:** `http://localhost:3000`
- **Frontend:** `http://localhost:5000` (–¥–ª—è –±—É–¥—É—â–µ–≥–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞)

## üõ†Ô∏è –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã

```bash
# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
npm run test:mongodb      # –¢–µ—Å—Ç MongoDB
npm run test:cloudinary   # –¢–µ—Å—Ç Cloudinary  
npm run test:all         # –¢–µ—Å—Ç –≤—Å–µ—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
npm run migrate          # –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤

# –ó–∞–ø—É—Å–∫
npm run dev             # –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
npm start               # –ü—Ä–æ–¥–∞–∫—à–µ–Ω

# –ü–æ–ª–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
npm run setup           # –¢–µ—Å—Ç—ã + –º–∏–≥—Ä–∞—Ü–∏—è
```

## üìä API Endpoints (–≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é)

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- `POST /api/auth/register` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- `POST /api/auth/login` - –í—Ö–æ–¥
- `GET /api/auth/me` - –¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- `GET /api/users/search` - –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `GET /api/users/:userId` - –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `PUT /api/users/profile` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
- `POST /api/users/avatar` - –ó–∞–≥—Ä—É–∑–∫–∞ –∞–≤–∞—Ç–∞—Ä–∞

### –ü–æ—Å—Ç—ã
- `POST /api/posts` - –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Å—Ç–∞
- `GET /api/posts` - –õ–µ–Ω—Ç–∞ –ø–æ—Å—Ç–æ–≤
- `GET /api/posts/explore` - Explore
- `GET /api/posts/:postId` - –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø–æ—Å—Ç
- `PUT /api/posts/:postId` - –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- `DELETE /api/posts/:postId` - –£–¥–∞–ª–µ–Ω–∏–µ

### –õ–∞–π–∫–∏ –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
- `POST /api/likes/:postId` - –õ–∞–π–∫/–¥–∏–∑–ª–∞–π–∫
- `POST /api/comments/:postId` - –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
- `GET /api/comments/:postId` - –ü–æ–ª—É—á–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏

### –ü–æ–¥–ø–∏—Å–∫–∏
- `POST /api/follow/:userId` - –ü–æ–¥–ø–∏—Å–∫–∞/–æ—Ç–ø–∏—Å–∫–∞
- `GET /api/follow/:userId/followers` - –ü–æ–¥–ø–∏—Å—á–∏–∫–∏
- `GET /api/follow/:userId/following` - –ü–æ–¥–ø–∏—Å–∫–∏

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- `GET /api/notifications` - –°–ø–∏—Å–æ–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- `PUT /api/notifications/:id/read` - –û—Ç–º–µ—Ç–∏—Ç—å –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–º

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ MongoDB Atlas IP whitelist** ‚ö†Ô∏è
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `npm run test:mongodb`
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `npm run migrate`
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `npm run dev`
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `http://localhost:3000` –≤ –±—Ä–∞—É–∑–µ—Ä–µ

## üÜò –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

```bash
# –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
npm run test:all

# –ü—Ä–æ–≤–µ—Ä–∫–∞ .env
cat .env

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install

# –õ–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞
npm run dev
```

## üìû –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ MongoDB Atlas —É –≤–∞—Å –±—É–¥–µ—Ç:
- ‚úÖ –ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π Instagram API
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —á–µ—Ä–µ–∑ Cloudinary
- ‚úÖ JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- ‚úÖ –í—Å–µ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–ø–∏—Å–æ–∫ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

**–û—Å—Ç–∞–ª–æ—Å—å —Ç–æ–ª—å–∫–æ –¥–æ–±–∞–≤–∏—Ç—å IP –≤ MongoDB Atlas –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å!** üöÄ 